<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shopping Cart</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: #f8f9fa; }
    .product-card { transition: transform .2s; }
    .product-card:hover { transform: scale(1.05); }
  </style>
</head>
<body>

<div class="container my-4">
  <h2 class="text-center mb-4">üõçÔ∏è My Shopping Store</h2>
  <div class="row" id="product-list">
    <!-- Products will load here -->
  </div>
</div>

<!-- Cart Button -->
<div class="position-fixed bottom-0 end-0 p-3">
  <button class="btn btn-primary" data-bs-toggle="offcanvas" data-bs-target="#cartCanvas">
    Cart (<span id="cart-count">0</span>)
  </button>
</div>

<!-- Offcanvas Cart -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="cartCanvas">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title">Your Cart</h5>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
  </div>
  <div class="offcanvas-body">
    <ul class="list-group" id="cart-items"></ul>
    <hr>
    <h5>Total: $<span id="cart-total">0</span></h5>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Products Data
const products = [
  { id: 1, name: "Laptop", price: 800 },
  { id: 2, name: "Headphones", price: 120 },
  { id: 3, name: "Smartphone", price: 600 },
  { id: 4, name: "Keyboard", price: 40 }
];

let cart = [];

// Render Products
function loadProducts() {
  const productList = document.getElementById("product-list");
  productList.innerHTML = "";
  products.forEach(p => {
    productList.innerHTML += `
      <div class="col-md-3 mb-4">
        <div class="card product-card shadow-sm">
          <div class="card-body text-center">
            <h5 class="card-title">${p.name}</h5>
            <p class="card-text">$${p.price}</p>
            <button class="btn btn-success" onclick="addToCart(${p.id})">Add to Cart</button>
          </div>
        </div>
      </div>
    `;
  });
}

// Add to Cart
function addToCart(id) {
  const product = products.find(p => p.id === id);
  const item = cart.find(i => i.id === id);
  if (item) {
    item.qty++;
  } else {
    cart.push({ ...product, qty: 1 });
  }
  updateCart();
}

// Remove from Cart
function removeFromCart(id) {
  cart = cart.filter(i => i.id !== id);
  updateCart();
}

// Update Cart Display
function updateCart() {
  const cartItems = document.getElementById("cart-items");
  const cartCount = document.getElementById("cart-count");
  const cartTotal = document.getElementById("cart-total");

  cartItems.innerHTML = "";
  let total = 0;

  cart.forEach(item => {
    total += item.price * item.qty;
    cartItems.innerHTML += `
      <li class="list-group-item d-flex justify-content-between align-items-center">
        ${item.name} (x${item.qty})
        <span>
          $${item.price * item.qty} 
          <button class="btn btn-sm btn-danger ms-2" onclick="removeFromCart(${item.id})">x</button>
        </span>
      </li>
    `;
  });

  cartCount.innerText = cart.length;
  cartTotal.innerText = total;
}

loadProducts();
</script>
</body>
</html>
